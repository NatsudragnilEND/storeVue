import{a as S,c as p,u as x,b as N,d as u,e as i,f as h,w as k,g as t,j as l,t as n,n as C,F as T,m as V,q as m,s as q,h as w}from"./index-999c377a.js";const B={class:"cart"},M={class:"peoducts"},P=["src"],D={class:"toda"},j={class:"spat"},z={class:"cpan"},E={class:"desu"},L=["onClick"],W={class:"kolvo"},A={class:"buttoms"},G=["onClick"],H=["onClick"],J=["onClick"],K={key:0,class:"ops"},O={class:"summ"},Q={class:"saym"},R={key:1,class:"not"},Y={__name:"Cart",setup(U){const e=S(),r=p(()=>e.cart);p(()=>e.cartTotal);const g=s=>{e.removeFromCart(s)},b=()=>{e.buy()},f=s=>{const c=s.product;e.reduce(c,1)},y=p(()=>r.value.reduce((s,c)=>{const a=c.product,o=Math.floor(a.price-a.price*a.discountPercentage/100);return s+o*c.quantity},0)),F=s=>{const c=s.product;e.addToCart(c,1)},d=x(),$=s=>{v(s.id)?d.removeFromFavorites(s):d.addToFavorites(s)},v=s=>d.isProductFavorite(s);return(s,c)=>{const a=N("router-link");return u(),i("div",B,[h(a,{to:"/",class:"hav"},{default:k(()=>[l("⇐")]),_:1}),t("h2",{class:C(["mark",{marg:r.value.length==0}])},[l(n(r.value.length==0?"Корзина Пуста":"Корзина")+" ",1),h(a,{to:"/",class:"mark tven"},{default:k(()=>[l("⇐ На главную")]),_:1})],2),t("ul",M,[(u(!0),i(T,null,V(r.value,o=>(u(),i("li",{key:o.product.id,class:"producttt"},[t("img",{src:o.product.thumbnail,alt:""},null,8,P),t("p",D,[t("span",j,n(Math.floor(o.product.price-o.product.price*o.product.discountPercentage/100))+"$ ",1),t("span",z,n(o.product.price+"$"),1)]),t("h3",null,n(o.product.title),1),t("p",E,n(o.product.description),1),t("div",{onClick:w(_=>$(o.product),["prevent"]),class:C([{kert:v(o.product.id)},"heard"])},null,10,L),t("p",W,"Количество: "+n(o.quantity),1),t("div",A,[t("button",{class:"custom-button",onClick:_=>f(o)},"-",8,G),t("button",{onClick:_=>F(o),class:"custom-button"},"+",8,H)]),t("button",{class:"custom-button",onClick:_=>g(o.product)}," Убрать из корзины ",8,J)]))),128))]),r.value.length!==0?(u(),i("div",K,[t("p",O,[l("Сумма: "),t("span",Q,n(y.value)+"$ ",1)]),t("div",{class:"custom-button",onClick:b},"Купить")])):m("",!0),q(e).not?(u(),i("div",R,"Куплено!")):m("",!0)])}}};export{Y as default};
